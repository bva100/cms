{% extends 'CmsCoreBundle:App:base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets
    '@CmsCoreBundle/Resources/public/css/site/index.css'
    '@CmsCoreBundle/Resources/public/css/admin/loop.css'
    filter='cssrewrite' %}
    <link rel="stylesheet" href="{{ asset_url }}"/>
    {% endstylesheets %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts
    '@CmsCoreBundle/Resources/public/js/site/index.js'
    %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block title %}
    {{ site.name|title }} Users {{ parent() }}
{% endblock %}

{% block content %}
    <div class="row-fluid">
        <div class="span12" id="header">
            <h1>User Groups</h1>
            <a href="#new" id="add-new"><i class="icon-plus-sign"></i> Add New</a>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span12">
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>Group Name</th>
                    <th>ID</th>
                    <th>User Count</th>
                    <th>View</th>
                    <th>Trash</th>
                </tr>
                </thead>
                <tbody class="checkbox-container">
                {% for group in groups  %}
                <tr id="tr-{{ group.id }}">
                    <td>
                        <h4>{{ group.name|title }}</h4>
                    </td>
                    <td>{{ group.id }}</td>
                    <td>{{ group.userIds|length }}</td>
                    <td><a href="{{ path('cms_core.site_userGroupsRead', {'siteId':site.id, 'groupId': group.id}) }}" class="btn btn-info"><i class="icon-eye-open"></i></a></td>
                    <td><a href="#" class="btn btn-danger"><i class="icon-trash"></i></a></td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}